# 使い方ガイド

[English](USAGE.md) | 日本語

## クイックスタート

1. **アドオンのインストール**
   - Thunderbird にアドオンをインストール（インストール手順は README.ja.md を参照）

2. **API キーとエンドポイントの設定**
   - **ツール** → **アドオンとテーマ** を開く
   - **Gemini Mail Review** を見つけて **設定** をクリック
   - Gemini API キーを入力
   - （オプション）別の Gemini モデルを使用するために API エンドポイント URL をカスタマイズ
     - デフォルト: `https://generativelanguage.googleapis.com/v1/models/gemini-2.5-flash:generateContent`
     - `gemini-pro`、`gemini-1.5-pro` などの他のモデルを使用するように変更可能
   - （オプション）Gemini がメールを分析する方法をカスタマイズするためにカスタムプロンプトを追加
     - カスタムプロンプトはすべてのレビューリクエストの先頭に追加されます
     - ビジネスメールチェックの例: "以下のメール本文が、取引先・顧客など会社宛てのメールとして、敬語や言い回しが適切か、失礼・不自然・誤解を招く表現がないか、ビジネスメールとして十分にフォーマルかを確認してください。問題点があれば、理由とあわせて修正案を提示してください。内容の意図は変えないでください。"
   - **接続テスト** をクリックして設定を確認
   - **設定を保存** をクリック

3. **メールを作成**
   - 新規メールを作成するか、既存のメールに返信
   - 通常通りメールを書く

4. **送信前にレビュー**
   - 送信ボタンをクリックする前に、作成ツールバーの **Gemini Mail Review** アイコンをクリック
   - AI 分析を待つ（通常 2〜5 秒）
   - フィードバックを確認

5. **フィードバックへの対応**
   - **メールを編集**: ポップアップを閉じて、提案に基づいて変更を加える
   - **このまま送信**: ポップアップを閉じて送信を続行（まだ送信ボタンをクリックする必要があります）

## 使用例

### 文法エラーのチェック
**シナリオ**: メールにタイプミスや文法ミスがないか確認したい。

**アクション**: Gemini Mail Review ボタンをクリック。AI がスペルと文法エラーを特定し、修正を提案します。

### プロフェッショナルなトーンの確認
**シナリオ**: 重要なビジネスメールを送信する際、プロフェッショナルな印象を与えたい。

**アクション**: レビュー機能を使用してトーンとプロフェッショナリズムについてフィードバックを取得。AI がトーンが適切かどうか、調整が必要かを教えてくれます。

### 添付ファイルの欠落を検出
**シナリオ**: メールに「添付ファイルをご参照ください」と書いたが、ファイルを添付し忘れた。

**アクション**: AI は添付ファイルへの言及を検出し、添付されていない場合に警告します（注: メール本文に添付ファイルの記載が必要です）。

### 明瞭さのチェック
**シナリオ**: 複雑なメールを書いたので、内容が明確かどうか確認したい。

**アクション**: レビューは不明瞭な箇所を特定し、明瞭さと簡潔さを向上させる方法を提案します。

## レビュー結果の理解

AI 分析には通常、以下が含まれます：

- **✓ ポジティブなフィードバック**: メールでうまく機能している点
- **⚠️ 警告**: 懸念される可能性があるが、必ずしもエラーではないもの
- **❌ 問題**: 送信前に対処すべき問題
- **💡 提案**: 改善のための具体的な推奨事項

## 最良の結果を得るためのヒント

1. **最初に書いて、後でレビュー**: より包括的なフィードバックを得るために、レビューを実行する前にメールを完成させる
2. **説明的な件名を使用**: より良いコンテキスト分析のために件名を含める
3. **定期的にレビュー**: 重要なメールを送信する前にレビューすることを習慣にする
4. **過度に依存しない**: AI を自分の判断の代わりではなく、有用なアシスタントとして使用する
5. **プライバシーへの配慮**: メールが Google の API に送信されて分析されることを忘れない

## トラブルシューティング

### 分析結果が表示されない
- インターネット接続を確認
- API キーが正しく設定されているか確認
- API レート制限を超えていないか確認

### レスポンスが遅い
- 大きなメールは分析に時間がかかる
- API のレスポンス時間はサーバーの負荷によって変動する
- 非常に長いメールの場合は、セクションごとにレビューすることを検討

### 不正確な提案
- AI は有用だが完璧ではない
- 提案を評価する際は自分の判断を使用する
- コンテキストが重要 - 受信者のことは AI よりもあなたの方がよく知っている

### API キーの問題
- API キーが有効でアクティブであることを確認
- クォータを超えていないか確認
- 古いキーが機能しない場合は、新しいキーを生成

## プライバシーとセキュリティ

- **送信されるもの**: 件名、受信者、メール本文
- **送信されないもの**: 添付ファイル、あなたの API キー（Google を除く）
- **データ保存**: API キーは Thunderbird にローカル保存される
- **データ送信**: HTTPS を介して Google の Gemini API に安全に送信される
- **保持**: Google が API データをどのように処理するかについては、Google のプライバシーポリシーを参照

## API の使用と制限

Google の Gemini API の無料枠には以下が含まれます：
- 1 分あたり 60 リクエスト
- 通常のメール使用には十分

制限を超えた場合：
- エラーメッセージが表示される
- 1 分待ってから再試行
- 必要に応じて API プランのアップグレードを検討

## ベストプラクティス

1. **事前チェック**: 重要なメールを送信する前に必ずレビュー
2. **複数回のレビュー**: レビュー後に大幅な変更を加えた場合は、再度レビュー
3. **フィードバックから学ぶ**: AI があなたの文章で特定する一般的な問題に注意を払う
4. **校正と組み合わせる**: 自分自身の校正と並行して AI レビューを使用
5. **コンテキストの認識**: より良い分析のために、必要に応じてメールにコンテキストを追加

## 機能リクエストとフィードバック

提案や問題が見つかった場合は、プロジェクトの GitHub リポジトリでご報告ください。
